class Result{static checkResult(t){return(e=t).every((t=>t===e[0]))||e.length===new Set(e).size;var e}}class Wallet{#t;constructor(t){this.#t=t}get amount(){return this.#t}changeAmount(t,e){return e?(this.#t+=3*t,`You won ${3*t}$`):(this.#t-=t,`You lost ${t}$`)}checkCanPlay(t){return t<=this.#t}}class Statistics{#e;#s;#r;constructor(){this.#s=0,this.#r=0,this.#e=0}changeStatistics(t){t?this.#e+=1:this.#s+=1,this.#r+=1}get statistics(){return{played:this.#r,won:this.#e,lost:this.#s}}}class FruitRandomizer{#i;constructor(...t){this.#i=t}randomizeFruits(){return[this.#n(),this.#n(),this.#n()]}#n(){return this.#i[Math.floor(Math.random()*this.#i.length)]}get choice(){return this.#i}}class Renderer{#a;#o;#r;#e;#s;#l;constructor(){this.#a=document.querySelector(".game__amount"),this.#o=document.querySelector(".stats__result p"),this.#r=document.querySelector(".stats__detail:nth-child(1) .stats__num"),this.#e=document.querySelector(".stats__detail:nth-child(2) .stats__num"),this.#s=document.querySelector(".stats__detail:nth-child(3) .stats__num"),this.#l=document.querySelectorAll(".game__img")}renderDOM(t,e,s,r,i,n){this.#u(r,i,n),this.renderWallet(s),this.#c(e),this.#h(t)}renderWallet(t){this.#a.textContent=`You own ${t}$`}#c(t){this.#o.textContent=t}#h(t){this.#r.textContent=t.played,this.#e.textContent=t.won,this.#s.textContent=t.lost}#d(t){return new Promise((e=>setTimeout(e,t)))}async#u(t,e,s){const r=document.querySelector(".game__start");r.setAttribute("disabled","");for(let r=0;r<5;r++){const i=document.querySelectorAll(".fruit-in"),n=document.querySelectorAll(".fruit-top");n.forEach((i=>{i.classList.add("fruit-in"),i.classList.remove("fruit-top"),s.forEach((t=>i.classList.remove(t)));const a=[...n].indexOf(i);4!==r?i.classList.add(e[Math.floor(Math.random()*s.length)]):i.classList.add(t[a]),s.forEach((t=>{i.classList.contains(t)&&(s.forEach((t=>i.parentElement.classList.remove(t))),i.parentElement.classList.add(t))}))})),i.forEach((t=>{t.classList.add("fruit-out"),t.classList.remove("fruit-in")})),await this.#d(100);document.querySelectorAll(".fruit-out").forEach((t=>{t.classList.add("fruit-top"),t.classList.remove("fruit-out")})),await this.#d(15)}r.removeAttribute("disabled","")}}class Game{#m;#f;#g;#w;constructor(){this.#g=new FruitRandomizer("strawberry","lemon","pear"),this.#m=new Wallet(150),this.#f=new Statistics,this.#w=new Renderer,this.#y()}#y(){this.#w.renderWallet(this.#m.amount)}startGame(){const t=parseInt(document.querySelector(".game__input").value);if(t<=0||!Number.isInteger(t))return void alert("Input integer greater than 0");if(!this.#m.checkCanPlay(t))return void alert("You don't have enough money");const e=this.#g.randomizeFruits(),s=this.#g.randomizeFruits(),r=Result.checkResult(e),i=this.#m.changeAmount(t,r);this.#f.changeStatistics(r),this.#w.renderDOM(this.#f.statistics,i,this.#m.amount,e,s,this.#g.choice)}}const game=new Game,button=document.querySelector(".game__start");button.addEventListener("click",(t=>{t.preventDefault(),game.startGame()}));
//# sourceMappingURL=all.js.map